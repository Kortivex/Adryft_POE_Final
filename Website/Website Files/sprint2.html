<!DOCTYPE html>
<!--[if lt IE 8 ]><html class="no-js ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="no-js ie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js ie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>

   <!--- Basic Page Needs
   ================================================== -->
   <meta charset="utf-8">
	<title>Sprint 2</title>
	<meta name="description" content="">
	<meta name="author" content="">

   <!-- Mobile Specific Metas
   ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
    ================================================== -->
   <link rel="stylesheet" href="sprint_css/base.css">
	<link rel="stylesheet" href="sprint_css/main.css">
   <link rel="stylesheet" href="sprint_css/media-queries.css">

   <!-- Script
   =================================================== -->
	<script src="sprint_js/modernizr.js"></script>

  <!-- Bokeh
  =================================================== -->
  <link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-1.0.1.min.css" type="text/css" />
  <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.0.1.min.js"></script>
  <script type="text/javascript">
      Bokeh.set_log_level("info");
  </script>


   <!-- Favicons
	=================================================== -->
	<link rel="shortcut icon" href="favicon.png" >

</head>

<body>

   <div id="top"></div>
   <div id="preloader">
	   <div id="status">
         <img src="sprint_images/loader.gif" height="60" width="60" alt="">
         <div class="loader">Loading...</div>
      </div>
   </div>

   <!-- Header
   =================================================== -->
   <header id="main-header">

   	<div class="row header-inner">

	      <nav id="nav-wrap">

	         <a class="mobile-btn" href="#nav-wrap" title="Show navigation">
	         	<span class='menu-text'>Show Menu</span>
	         	<span class="menu-icon"></span>
	         </a>
         	<a class="mobile-btn" href="#" title="Hide navigation">
         		<span class='menu-text'>Hide Menu</span>
         		<span class="menu-icon"></span>
         	</a>

	         <ul id="nav" class="nav">
	            <li><a href="index.html#home">Home.</a></li>
	            <li><a href="sprint1.html">Sprint 1</a></li>
	            <li class="current"><a href="sprint2.html">Sprint 2</a></li>
              <li><a href="sprint3.html">Sprint 3</a></li>
	         </ul>

	      </nav> <!-- /nav-wrap -->

	   </div> <!-- /header-inner -->

   </header>


   <!-- Page Title
   ================================================== -->
   <section id="page-title">

		<div class="row">

			<div class="twelve columns">

				<h1>Sprint<span> 2 </span></h1>

			</div>

		</div> <!-- /row -->

   </section> <!-- /page-title -->


   <!-- Content
   ================================================== -->
   <section id="content">

   	<div class="row portfolio-content">

	   	<div class="entry tab-whole nine columns centered">

	         <header class="entry-header">

					<h1 class="entry-title">
							Week 2 and Week 3.
					</h1>

				</header>

				<div class="entry-content">
					<p class="lead">After pivoting away from the "lighter than air" jellyfish project
            at the end of the last sprint, Team Adryft leaps head-first into its brand new idea. The five members
          agreed to keep the team's original name "Adryft" and planned to somehow make it fit the
        string-art theme if they have time before POE ends...   </p>
        <p>So, this is what we got done these past two weeks! Boy has it been a sprint.</p>
        <h5>Hardware</h5>
					<p>We refined the CAD that was completed at the very end of last week. Besides removing the pegs in the middle of the disk (a decision we made to simplify
            the stringing process for our MVP), many of the adjustments were small tweaks to make the system fit together better.</p>

          <img src="sprint_images/sprint2/image15.png">

          <p>We planned to have our machine powered by two stepper motors. One to move the string manipulator with a belt, and the other to turn a gear to rotate
          the circular board. We ran into some trouble getting the gears to fit together accurately. These were remedied with slight adjustments and 3D reprints.</p>

          <p>On the electrical side, we tested stepper motors with an Arduino Uno and Adafruit Motorshield but the board would over heat and the motors would jitter.
          We found that a RAMPS 1.4 Controller on an Arduino Mega2560 board worked much more smoothly.</p>

          <p>The RAMPS 1.4 Controller Board: </p>
          <img src="sprint_images/sprint2/image18.jpg">

        <h5>Software</h5>
        <p>Within the Arduino control code of the system, we tested our motors with the AccelMotor library but later found that SpeedyStepper library,
        made by Instructor Stan Reifel suited our needs much better and had better documentation.  </p>
        <p>We also created a string art simulator in Pygame to test our image processing algorithm. The simulator processes a normal image into one drawn by criss-crossing
        straight lines. This is an example of one of our outputs: </p>
        <img src="sprint_images/sprint2/image14.jpg">
        <p>Our image processing is a calculated with a greedy algorithm, which means that every line drawn by the string is the most optimal at that given time. It does not
        take into consideration what the end picture will look like. For each step, the algorithm draws the line across the board that covers the most "dark"
        values in the picture.</p>

        <img src="sprint_images/sprint2/greedy.png">

        <p>A problem we ran into was that the algorithm didn't know when to <b>stop</b>. It would keep drawing lines across the board until the virtual length of string
        ran out.</p>
        <img src="sprint_images/sprint2/image13.png">

        <p> For this pokeball image, the machine should have stopped stringing at about 1400 feet of string.
          We solved this by creating an algorithm that calculated the error between the drawn image and desired image at every step. It creates a nifty interactive graph like this:</p>


        <div class="bk-root" id="0fb4d83b-774e-4769-adee-0b6c35f7e023"></div>



  <script type="application/json" id="1114">
    {"d9d9ae57-8aeb-4a85-bf05-ab6a16dd28fd":{"roots":{"references":[{"attributes":{},"id":"1013","type":"BasicTicker"},{"attributes":{"source":{"id":"1037","type":"ColumnDataSource"}},"id":"1041","type":"CDSView"},{"attributes":{},"id":"1044","type":"BasicTickFormatter"},{"attributes":{"plot":{"id":"1002","subtype":"Figure","type":"Plot"},"ticker":{"id":"1013","type":"BasicTicker"}},"id":"1016","type":"Grid"},{"attributes":{},"id":"1046","type":"BasicTickFormatter"},{"attributes":{"formatter":{"id":"1046","type":"BasicTickFormatter"},"plot":{"id":"1002","subtype":"Figure","type":"Plot"},"ticker":{"id":"1018","type":"BasicTicker"}},"id":"1017","type":"LinearAxis"},{"attributes":{"items":[{"id":"1049","type":"LegendItem"}],"plot":{"id":"1002","subtype":"Figure","type":"Plot"}},"id":"1048","type":"Legend"},{"attributes":{},"id":"1018","type":"BasicTicker"},{"attributes":{"label":{"value":"Error"},"renderers":[{"id":"1040","type":"GlyphRenderer"}]},"id":"1049","type":"LegendItem"},{"attributes":{"dimension":1,"plot":{"id":"1002","subtype":"Figure","type":"Plot"},"ticker":{"id":"1018","type":"BasicTicker"}},"id":"1021","type":"Grid"},{"attributes":{"data_source":{"id":"1037","type":"ColumnDataSource"},"glyph":{"id":"1038","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1039","type":"Line"},"selection_glyph":null,"view":{"id":"1041","type":"CDSView"}},"id":"1040","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1022","type":"PanTool"},{"id":"1023","type":"WheelZoomTool"},{"id":"1024","type":"BoxZoomTool"},{"id":"1025","type":"SaveTool"},{"id":"1026","type":"ResetTool"},{"id":"1027","type":"HelpTool"}]},"id":"1028","type":"Toolbar"},{"attributes":{"below":[{"id":"1012","type":"LinearAxis"}],"left":[{"id":"1017","type":"LinearAxis"}],"renderers":[{"id":"1012","type":"LinearAxis"},{"id":"1016","type":"Grid"},{"id":"1017","type":"LinearAxis"},{"id":"1021","type":"Grid"},{"id":"1030","type":"BoxAnnotation"},{"id":"1048","type":"Legend"},{"id":"1040","type":"GlyphRenderer"}],"title":{"id":"1001","type":"Title"},"toolbar":{"id":"1028","type":"Toolbar"},"x_range":{"id":"1004","type":"DataRange1d"},"x_scale":{"id":"1008","type":"LinearScale"},"y_range":{"id":"1006","type":"DataRange1d"},"y_scale":{"id":"1010","type":"LinearScale"}},"id":"1002","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"data":{"x":[19.311111111111114,38.88253968253969,58.09523809523809,77.73650793650792,97.13333333333325,116.74603174603166,136.03809523809514,155.5841269841269,172.21587301587294,190.85714285714275,208.55873015873004,227.28888888888875,245.1460317460316,262.73333333333323,281.2095238095238,297.2349206349206,314.336507936508,332.2634920634921,350.2984126984128,368.4920634920636,384.23174603174624,402.1492063492066,419.4126984126987,436.4253968253972,453.11746031746065,471.16507936507975,488.75873015873054,505.1142857142862,522.3904761904768,538.6952380952388,557.3142857142863,573.1460317460321,589.0920634920639,605.3015873015876,622.4444444444448,638.0571428571432,655.1238095238098,671.7809523809527,687.6253968253974,702.7555555555563,719.0507936507944,735.958730158731,751.3650793650802,768.1555555555565,785.2126984126992,800.3619047619056,817.3873015873024,833.3809523809532,849.5396825396832,866.1523809523817,881.2349206349212,895.1650793650799,911.6158730158736,927.0539682539688,943.2761904761912,956.9047619047627,974.5841269841277,991.2253968253973,1007.5111111111114,1021.7238095238098,1039.6317460317464,1056.3428571428578,1071.9682539682547,1085.9968253968261,1101.5460317460327,1116.0571428571438,1132.3555555555565,1149.0285714285721,1164.2380952380959,1179.4190476190486,1194.2031746031757,1209.8031746031759,1226.0000000000011,1241.3238095238112,1257.8126984127002,1274.5873015873037,1288.876190476193,1304.676190476193,1320.8825396825423,1337.3428571428599,1354.1873015873043,1371.5079365079393,1386.568253968257,1402.8063492063525,1418.282539682543,1433.034920634924,1447.2444444444477,1461.5968253968285,1475.0158730158762,1492.768253968257,1506.8825396825428,1523.063492063495,1538.0539682539716,1553.4539682539717,1569.4603174603208,1583.676190476194,1600.0761904761944,1614.4984126984166,1631.2920634920677,1646.8920634920676,1662.219047619052,1679.920634920639,1693.393650793655,1709.1555555555599,1725.5492063492106,1742.2158730158772,1758.1587301587344,1774.8000000000045,1788.2190476190522,1805.1873015873061,1821.7142857142899,1837.8444444444488,1853.4952380952423,1871.653968253972,1887.8698412698448,1903.796825396829,1918.5492063492102,1933.9333333333373,1949.1238095238136,1966.298412698417,1980.9142857142901,1995.4888888888936,2009.67936507937,2025.5460317460368,2044.3555555555608,2058.3206349206403,2073.885714285719,2090.565079365084,2104.733333333337,2119.94920634921,2136.0793650793685,2150.888888888892,2165.3460317460344,2181.9841269841295,2195.6190476190504,2212.400000000003,2227.6857142857175,2245.1873015873043,2258.9523809523835,2274.723809523812,2289.165079365082,2306.714285714288,2322.768253968256,2338.8158730158743,2354.8603174603186,2369.4761904761917,2386.6095238095245,2401.993650793651,2417.926984126984,2432.7492063492064,2447.612698412698,2463.831746031745,2477.8539682539667,2495.0920634920617,2509.168253968252,2526.2888888888865,2542.49841269841,2559.2412698412663,2574.663492063489,2588.473015873013,2603.8158730158702,2619.5174603174573,2635.399999999997,2651.0888888888853,2665.984126984123,2681.1492063492024,2698.5047619047577,2714.142857142853,2729.453968253964,2746.844444444439,2763.047619047613,2777.9238095238034,2794.2222222222163,2810.136507936502,2826.987301587295,2843.3587301587236,2856.3714285714223,2871.8095238095175,2887.4158730158665,2902.120634920628,2914.7365079365004,2928.987301587294,2944.8317460317385,2960.7555555555473,2974.3365079365,2989.4634920634835],"y":[17278.6653625,16438.8301875,16038.7980125,16038.7980125,15546.90220625,15071.84805625,14868.4584875,14473.9074,13966.27903125,13559.99333125,13189.6696625,12897.75143125,12569.652625,12377.83143125,12164.9064375,11947.256325,11725.07949375,11462.877725,11322.35005625,11195.19969375,10961.81708125,10855.957625,10774.31345625,10656.2503625,10450.7387375,10315.33009375,10176.08324375,10031.3526125,9869.85388125,9616.59961875,9533.90673125,9376.25858125,9249.09086875,9098.1270875,8998.297025,8851.67734375,8763.283625,8652.72488125,8563.86114375,8428.77980625,8342.10346875,8291.1594,8164.295075,8107.23424375,8067.49069375,7976.2176375,7922.5248375,7853.9548875,7804.99801875,7737.152425,7655.59414375,7546.95815625,7486.88943125,7418.4579125,7350.8363,7285.1181625,7284.040275,7257.74998125,7207.3874,7148.28984375,7143.84831875,7126.869,7104.822275,7058.58793125,7011.6130375,6974.229325,6961.9267375,6941.99538125,6902.58133125,6869.23308125,6847.71979375,6815.10895,6811.23180625,6775.46379375,6763.7197,6748.1763,6719.90066875,6711.6957375,6692.3043875,6717.28945,6720.42040625,6735.39151875,6733.7306875,6718.6309,6706.014225,6677.39039375,6646.83981875,6617.66584375,6611.26464375,6632.69809375,6611.97460625,6639.7170625,6651.17295,6647.94411875,6670.0254375,6694.7730125,6700.71851875,6706.6585625,6712.04111875,6720.80069375,6719.98606875,6747.51650625,6747.50413125,6792.46374375,6824.70428125,6839.14268125,6848.79928125,6893.1321625,6909.51869375,6924.82949375,6963.236075,6996.54251875,7049.912725,7088.46733125,7135.64595,7162.6269125,7152.81969375,7157.690375,7189.7075,7230.11265,7255.20759375,7286.6403625,7304.25359375,7309.9897375,7380.37925,7395.6907875,7417.17599375,7503.07355625,7526.13655625,7535.1287125,7563.511425,7576.79265,7601.13538125,7658.67315,7675.1477875,7726.97655,7781.5803875,7828.75095,7856.35895,7900.36265,7902.8196625,7962.99121875,8022.15881875,8072.6199875,8111.76465625,8154.81170625,8174.42225,8190.4252375,8237.94150625,8253.83546875,8335.5432125,8385.89541875,8400.13155,8442.24020625,8493.568625,8546.11965,8583.50571875,8630.59158125,8656.52359375,8664.16574375,8715.98775625,8718.4348875,8788.5251,8821.26604375,8864.8259875,8885.20875625,8944.033325,8999.41815,9043.50148125,9098.64524375,9157.06956875,9184.78489375,9210.68675,9267.25483125,9332.55600625,9348.5845875,9348.739625,9402.493525,9421.592925,9447.19560625,9459.0134375,9495.7896625,9537.4030125,9558.129825,9553.280975,9593.492975]},"selected":{"id":"1055","type":"Selection"},"selection_policy":{"id":"1056","type":"UnionRenderers"}},"id":"1037","type":"ColumnDataSource"},{"attributes":{},"id":"1022","type":"PanTool"},{"attributes":{},"id":"1023","type":"WheelZoomTool"},{"attributes":{},"id":"1055","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1039","type":"Line"},{"attributes":{"overlay":{"id":"1030","type":"BoxAnnotation"}},"id":"1024","type":"BoxZoomTool"},{"attributes":{},"id":"1056","type":"UnionRenderers"},{"attributes":{"line_color":"#A6CEE3","x":{"field":"x"},"y":{"field":"y"}},"id":"1038","type":"Line"},{"attributes":{},"id":"1025","type":"SaveTool"},{"attributes":{},"id":"1026","type":"ResetTool"},{"attributes":{},"id":"1027","type":"HelpTool"},{"attributes":{"callback":null},"id":"1004","type":"DataRange1d"},{"attributes":{"plot":null,"text":"Image Error"},"id":"1001","type":"Title"},{"attributes":{"callback":null},"id":"1006","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1030","type":"BoxAnnotation"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{},"id":"1010","type":"LinearScale"},{"attributes":{"axis_label":"String Used","formatter":{"id":"1044","type":"BasicTickFormatter"},"plot":{"id":"1002","subtype":"Figure","type":"Plot"},"ticker":{"id":"1013","type":"BasicTicker"}},"id":"1012","type":"LinearAxis"}],"root_ids":["1002"]},"title":"Bokeh Application","version":"1.0.1"}}
  </script>
  <script type="text/javascript">
    (function() {
      var fn = function() {
        Bokeh.safely(function() {
          (function(root) {
            function embed_document(root) {

            var docs_json = document.getElementById('1114').textContent;
            var render_items = [{"docid":"d9d9ae57-8aeb-4a85-bf05-ab6a16dd28fd","roots":{"1002":"0fb4d83b-774e-4769-adee-0b6c35f7e023"}}];
            root.Bokeh.embed.embed_items(docs_json, render_items);

            }
            if (root.Bokeh !== undefined) {
              embed_document(root);
            } else {
              var attempts = 0;
              var timer = setInterval(function(root) {
                if (root.Bokeh !== undefined) {
                  embed_document(root);
                  clearInterval(timer);
                }
                attempts++;
                if (attempts > 100) {
                  console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                  clearInterval(timer);
                }
              }, 10, root)
            }
          })(window);
        });
      };
      if (document.readyState != "loading") fn();
      else document.addEventListener("DOMContentLoaded", fn);
    })();
  </script>

  <p>Notice that the error is lowest around 1400 feet of string. It corresponds to the most accurate picture in the figure above!</p>


        <p>The image processing algorithm can be found on our <a href="https://github.com/eriakul/Adryft_POE_Final">Github</a>.</p>

				</div>

        <h5>Putting It All Together</h5>
        <p>By the end of the week, we were ready to bring our finished components together. The pieces on the CAD were 3D-printed and lasercut, the stepper-motors were communicating with
            the Arduino code, and the Python code could tell us which pegs to loop strings around. Here's a diagram of our communication architecture; we have Python calculate and send commands to Arduino one at a time
            because the Arduino cannot hold too much variable information at once.</p>

        <img src="sprint_images/sprint2/original_architecture.png">

        <p>  Anyway, to get straight to it, take a look at this!</p>


        <img src="sprint_images/sprint2/image20.gif">

        <p>That's all for Sprint 2. See you next Sprint!</p>

				<div class="pagenav group">
		  			  <span class="prev"><a href="sprint2.html" rel="prev">Previous</a></span>
		  			<span class="next"><a href="sprint3.html" rel="next">Next</a></span>
	  			</div>

	      </div> <!-- /entry -->

	   </div> <!-- /portfolio-content -->

   </section> <!-- /content -->


   <!-- Footer
   ================================================== -->
   <footer>

      <div class="row">

         <div id="go-top">
            <a class="smoothscroll" title="Back to Top" href="#top"><span>Top</span><i class="fa fa-long-arrow-up"></i></a>
         </div>

      </div> <!-- /row -->

   </footer> <!-- /footer -->


   <!-- Java Script
   ================================================== -->
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
   <script>window.jQuery || document.write('<script src="sprint_js/jquery-1.10.2.min.js"><\/script>')</script>
   <script type="text/javascript" src="sprint_js/jquery-migrate-1.2.1.min.js"></script>
   <script src="sprint_js/jquery.flexslider.js"></script>
   <script src="sprint_js/jquery.fittext.js"></script>
   <script src="sprint_js/backstretch.js"></script>
   <script src="sprint_js/waypoints.js"></script>
   <script src="sprint_js/main.js"></script>

</body>

</html>
